!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ReactExperiments=t(require("react")):e.ReactExperiments=t(e.React)}(this,function(e){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(t,r){t.exports=e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),a=function(e){return e&&e.__esModule?e:{default:e}}(n),o=a.default.createClass({displayName:"Parametrize",propTypes:{children:a.default.PropTypes.node.isRequired},getInitialState:function(){return{experimentParameters:null}},childContextTypes:{experimentParameters:a.default.PropTypes.object,experimentProps:a.default.PropTypes.object.isRequired},getChildContext:function(){return{experimentParameters:this.state.experimentParameters,experimentProps:this.props}},componentWillMount:function(){this.fetchParameters()},fetchParameters:function(){var e=this.props,t=e.experiment,r=e.params;if(!t||!t.get)return void console.error("You must pass in an experiment instance as a prop");if(!r)return void console.error("You mass pass a list of params in as a prop");for(var n={},a=0;a<r.length;a++){var o=r[a],u=t.get(o);null!==u&&void 0!==u&&(n[o]=u)}0!==Object.keys(n).length&&!1===t.previouslyLogged()&&t.logExposure({params:r,name:t.getName()}),this.setState({experimentParameters:n})},renderExperiment:function(){var e=this.state.experimentParameters;if(!e)return null;var t=this.props,r=t.children,n=t._passThrough;if(a.default.Children.count(r)>1){var o=a.default.Children.map(r,function(t){return n?a.default.cloneElement(t,e):t});return a.default.createElement("div",null,o)}return n?a.default.cloneElement(a.default.Children.only(r),e):r},render:function(){return this.renderExperiment()}});t.default=o,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(3),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(a),u=r(4),i=n(u),s=r(5),l=n(s),d=r(1),p=n(d),f=r(6),c=n(f),m=r(7),h=n(m);t.default={ABTest:l.default,When:o.When,Default:o.Default,Experiment:i.default,Parametrize:p.default,withExperimentParams:c.default,parametrize:h.default},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Default=t.When=void 0;var n=r(0),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.When=a.default.createClass({displayName:"When",getInitialState:function(){return{shouldRender:!1}},contextTypes:{experimentParameters:a.default.PropTypes.object.isRequired,experimentProps:a.default.PropTypes.object.isRequired},componentWillUpdate:function(e,t){t.shouldRender&&this.context.experimentProps.enrolledInVariation()},componentDidMount:function(){this.shouldRenderVariation()},shouldRenderVariation:function(){var e=this.props.value,t=this.context.experimentProps.on;this.context.experimentParameters&&this.context.experimentParameters[t]===e&&this.setState({shouldRender:!0})},renderChildren:function(){return a.default.Children.map(this.props.children,function(e){return a.default.isValidElement(e)?a.default.cloneElement(e,{}):e})},render:function(){return this.state.shouldRender?a.default.createElement("span",{className:"experiment-variation-component"},this.renderChildren()):null}}),t.Default=a.default.createClass({displayName:"Default",contextTypes:{experimentProps:a.default.PropTypes.object.isRequired},render:function(){return this.context.experimentProps.hasRendered?null:a.default.createElement("span",null,this.props.children)}})},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(){n(this,e)}return a(e,[{key:"get",value:function(e){throw"IMPLEMENT get"}},{key:"logExposure",value:function(e){throw"IMPLEMENT logExposure"}},{key:"getName",value:function(){throw"IMPLEMENT getName"}},{key:"previouslyLogged",value:function(){throw"IMPLEMENT previouslyLogged"}},{key:"shouldFetchExperimentParameter",value:function(e){throw"IMPLEMENT shouldFetchExperimentParameter"}}]),e}();t.default=o,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),o=n(a),u=r(1),i=n(u),s=o.default.createClass({displayName:"ABTest",getInitialState:function(){return{hasRendered:!1}},enrolledInVariation:function(){this.state.hasRendered||this.setState({hasRendered:!0})},renderExposedVariation:function(){var e=this.props,t=e.on,r=e.experiment;return r?t?o.default.createElement(i.default,{experiment:r,params:[t],on:t,enrolledInVariation:this.enrolledInVariation,hasRendered:this.state.hasRendered},this.props.children):(console.error("You must pass an 'on' prop indicating what parameter you want to branch off"),null):(console.error("You must pass in an experiment instance as a prop"),null)},render:function(){return this.renderExposedVariation()}});t.default=s,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=function(e){return o.default.createClass({contextTypes:{experimentParameters:o.default.PropTypes.object.isRequired},render:function(){return o.default.createElement(e,n({},this.props,this.context.experimentParameters))}})},e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),o=n(a),u=r(1),i=n(u);t.default=function(e,t,r){return o.default.createClass({render:function(){return o.default.createElement(i.default,{experiment:e,params:t,_passThrough:!0},o.default.createElement(r,this.props))}})},e.exports=t.default}])});